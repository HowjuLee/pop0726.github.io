<html>
<head>
<title>Untitled Document</title>
<meta http-equiv="Content-Type" content="text/html; charset="utf-8"">
<link rel="stylesheet" href="../../css/text.css" type="text/css">
</head>

<body bgcolor="#FFFFFF" text="#000000" background="../../../../../image/pop/r2_c3.gif">
<center><table width="95%" border="0" cellspacing="0" cellpadding="0">
  <tr>
      <td class=text> 
        <p><b>二、 问答题答案</b></p>
        <p><span class="explaination">问答第1题</span><br>
          　　一般来说，一个关系可以有多个索引，分别对应于不同的搜索码。如果包含记录的关系按照某个搜索码指定的顺序物理存储，那么该搜索码对应的索引就称为主索引，也叫簇集索引。显然，在主索引中，索引结构中搜索码的顺序与关系中记录的物理存储顺序是一致的。而对一个关系来说，记录的物理存储顺序只可能有一种，因此在一个关系的不同搜索码上建立两个主索引一般来说是不可能的。除非这两个搜索码的顺序完全一致，包括在对关系进行修改之后，这两个搜索码的顺序也还完全一致。<br>
          <br>
          <span class="explaination">问答第2题</span><br>
          　　在文件中，记录按主索引而不是辅助索引的搜索码顺序物理存储，因此，具有同一个辅助搜索码值的记录可能分布在文件的各个地方。所以，辅助索引必须包含指向每一记录的指针，因此辅助索引必须是稠密的，它必须在索引中包含每一个辅助搜索码的值，否则将无法利用辅助索引中的搜索码进行查询。<br>
          <img src="../../../../../image/shiti/29.gif" width="360" height="219"><br>
          如上图所示，稠密辅助索引的结构和稠密主索引结构是不同的。稠密辅助索引的指针并不像稠密主索引那样直接指向文件中的记录，而是每个指针首先指向一个包含文件指针的存储桶，而存储桶中的每个指针才指向文件中的记录。<br>
          <br>
          <span class="explaination">问答第3题</span><br>
          　　在散列文件组织中，当一个存储桶的空间被用完之后，就需要用溢出桶来存储数据。发生溢出的原因有两个方面，一个方面的原因是：<br>
          　　 ⑴　文件中桶的数目严重不足；<br>
          　　 ⑵　每个桶中能存储的记录数太少。 <br>
          另一个方面的原因是针对搜索码的散列函数设计的不好：<br>
          　　 ⑴　散列函数不具有均匀性：即每个存储桶从所有可能的搜索码值集合中分配到的值的个数相差很大； <br>
          　　 ⑵　散列函数不具有随机性：根据搜索码值的实际情况，在特殊情况下某些存储桶分配到的搜索码值的个数非常多。 由于散列函数的设计不具有均匀性和随机性，导致某些存储桶发生溢出。<br>
          　　 <br>
          <span class="explaination">问答第4题</span><br>
          　　我们再来看一个利用搜索码进行范围查询的例子： <br>
          　　 select A1, A2, … , An from r where Ai >= c1 AND Ai <= c2 <br>
          对于这个查询来说，如果文件按照搜索码Ai对记录进行散列组织，由于散列函数的随机性，使得搜索码值在c1和c2之间的记录有可能分布在文件的各个存储桶里，因此我们将不得不读取所有的存储桶，并且对每个存储桶中的所有记录都进行上查询条件的检查，以判断它是否满足查询条件。也就是说要从头至尾扫描整个文件，散列的作用并没有发挥出来，因此，对于一个可能进行范围查询的搜索码而言散列文件组织不是最佳选择。 
          <br>
          <!--czp-wenda-daan-->
        </p>
      </td>
  </tr>
</table>
  </center>

</body>
</html>
