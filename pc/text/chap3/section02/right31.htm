<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Untitled Document</title>
<meta http-equiv="Content-Type" content="text/html; charset="utf-8"">
<link href="../../../css/weiji.css" rel="stylesheet" type="text/css">
<link href="../../../css/weiji.css" rel="stylesheet" type="text/css">
</head>

<body class="bg">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr> 
    <td height="64" class="pt9">。 ；IR4中断处理程序<br>
      CLI ；<br>
      MOV AL，68H ；OCW3：0 1 1 0 1 0 0 0特殊屏蔽方式<br>
      OUT C0H，AL ；<br>
      IN AL，C2H ； <br>
      OR AL，10H ；屏蔽IR4<br>
      OUT C2H，AL ；<br>
      STI ；IR7请求，响应，返回<br>
      。 ；<br>
      CLI ；为设命令<br>
      IN AL，C2H ；读屏蔽字<br>
      AND AL，0EFH ；清除IMR4<br>
      OUT C2H，AL ；<br>
      MOV AL，48H ；OCW3：0 1 0 0 1 0 0 0<br>
      OUT C0H，AL ；取消特殊屏蔽<br>
      STI ；<br>
      。 ；<br>
      MOV AL，20H ；OCW2：0 0 1 0 0 0 0 0 EOI<br>
      OUT C0。AL ；<br>
      IRET<br>
      。 <br>
      。 ；IR4中断处理程序<br>
      CLI ；关中断，IF为0<br>
      MOV AL，68H ；OCW3：0 1 1 0 1 0 0 0特殊屏蔽方式<br>
      OUT C0H，AL ；OCW3写入偶地址，<br>
      IN AL，C2H ； <br>
      OR AL，10H ；<br>
      OUT C2H，AL ；这三条指令执行完毕后，IR4被屏蔽<br>
      STI ；开中断，IR7请求，响应，返回<br>
      。 ；<br>
      CLI ；为设命令<br>
      IN AL，C2H ；读屏蔽字<br>
      AND AL，0EFH ；<br>
      OUT C2H，AL ；清除IR4的屏蔽位<br>
      MOV AL，48H ；OCW3：0 1 0 0 1 0 0 0<br>
      OUT C0H，AL ；取消特殊屏蔽<br>
      STI ；开中断<br>
      。 ；<br>
      MOV AL，20H ；OCW2：0 0 1 0 0 0 0 0 EOI<br>
      OUT C0。AL ；中断结束命令<br>
      IRET 中断返回<br>
      。 </td>
  </tr>
</table>
</body>
</html>
