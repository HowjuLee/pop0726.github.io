<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Untitled Document</title>
<meta http-equiv="Content-Type" content="text/html; charset="utf-8"">
<link href="../../../css/weiji.css" rel="stylesheet" type="text/css">
</head>

<body bgcolor="#FFF3C4">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr> 
    <td class="pt9" height="9" > 2) 编程<br>
      　编程8237A通常经过如下步骤：<br>
      　　◇ 使用清除F／L命令使F／L触发器为0；<br>
      　　◇ 禁止DMA的通道请求；<br>
      　　◇ 编程地址寄存器的低8位，然后是高8位； <br>
      　　◇ 编程计数寄存器的低8位，然后是高8位；<br>
      　　◇ 编程控制整个8237A的命令寄存器；<br>
      　　◇ 设置每个通道的模式寄存器；<br>
      　　◇ 送DMA允许命令，准备开始DAM传送。<br>
      3) 应用实例<br>
      　　<b>图3-29</b> 是一个利用DMA传送的打印机接口逻辑路。逻辑图主要表示了外设对8237A的DMA请求，8237A控制对外设数据传送的信号之间的逻辑关系。图中J-K触发器寄存从外设来的DMA请求信号，它是利用外设接收数据的应答信号ACK#来作为触发器置位的时钟脉冲的。8237A获得总线控制权以后，DACK#变为有效，该信号的作用有：①作为外设接口的片选择信号，与IOW#一起将从存储器读出的数据写入打印机接口`373；②通过单稳态触发器`122产生打印机的数据选通信号DS#；③清除J-K触发器，撤消DREQ。这样，依靠打印机的应答信号请求DMA传送，DMA给打印机接口传送一次数据便使打印机生产一次新的DMA请求。<br>
    </td>
  </tr>
</table>
</body>
</html>
