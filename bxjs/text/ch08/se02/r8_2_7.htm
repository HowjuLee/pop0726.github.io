<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<STYLE TYPE="text/css">
<!--
BODY {background-image:   url(../../../images/htmls/Slicebg.jpg);
background-position: right bottom;
background-repeat: no-repeat;
background-attachment: fixed;
}
-->
</STYLE>
<title>Untitled Document</title>
<meta http-equiv="Content-Type" content="text/html; charset="utf-8"">
<link rel="stylesheet" href="../../../css/style.css" type="text/css">
</head>

<body  leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0">
  <tr> 
    <td valign="top" height="20">&nbsp; </td>
  </tr>
  <tr>
    <td valign="top">
      <table width="92%" border="0" align="center" cellpadding="0" cellspacing="0">
        <tr> 
          <td class="text" valign="top"> 
            <p>　　OpenMP Fortran API 2.0支持的数据环境说明语句如下： <br>
              　　・ private <br>
              　　・ shared <br>
              　　・ default <br>
              　　・ firstprivate <br>
              　　・ lastprivate <br>
              　　・ reduction <br>
              　　・ copyin<br>
              　　・ copyprivate<br>
              <br>
              　　PRIVATE/SHARED/DEFAULT的基本含义和用法在DO指导语句的部分已经讲过。需要注意的是，对DO，PARALLEL 
              DO来说，循环的索引变量会自动的被设置为private属性。<br>
              <br>
              　　FIRSTPRIVATE/LASTPRIVATE是与PRIVATE有关的两个语句，它们申明的变量都是PRIVATE变量。FIRSTPRIVATE申明的变量为线程私有，但它的初始值由对应的共享变量的值给出（由主线程在创建工作线程时进行，初始值为此时共享变量的值）；而LASTPRIVATE申明的变量还需要在对应的并行任务结束的时候把自己的私有变量的值赋给对应的共享变量（具体由哪个线程来完成要看具体情形：对DO/PARALLEL 
              DO是完成最后一个循环迭代的线程，对SECTIONS是执行最后一个SECTION(源程序顺序)的线程）。<br>
              <br>
              　　下面是一个简单的关于FIRSTPRIVATE/LASTPRIVATE的例子</p>
            <p>　　J = 10<br>
              　　!$OMP PARALLEL<br>
              　　!$OMP DO FIRSTPRIVATE(J) LASTPRIVATE(I)<br>
              　　!现在每个线程中的私有的J的值都为10，去掉这个说明，则J的初始值不确定<br>
              　　　DO I = 1, 1000, 1<br>
              　　　　do_body<br>
              　　　END DO<br>
              　　!$OMP END DO<br>
              　　!现在共享变量I的值为1000<br>
              　　!$OMP END PARALLEL</p>
            <p>　　COPYIN和COPYPRIVATE属性和THREADPRIVATE变量有关，本文中不加以介绍，请阅读标准。<br>
            </p>
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
</body>
</html>
